CHANGELOG 2/21/2018


users.php

1. update $app->get('/api/users/{custid}, added filter on active field (active=1). This to load on granted users
2. removed $app->get('/api/users/{custid} path
3. remove // Update user record $app->put('/api/user/update/{userid}/{custid}', function(Request $request, Response $response) {


admin.php

1. added $app->get('/api/admin/user/{userid}', function(Request $request, Response $response)
2. added $app->get('/api/admin/users/{custid}', function(Request $request, Response $response), this loads both revoked/granted users
3. added Update tail $app->put('/api/admin/tail/update/{number}/{custid}', function(Request $request, Response $response)
4. added // Deactivate specific Tail $app->put('/api/admin/tail/disable/{number}/{custid}', function(Request $request, Response $response)
5. added // Activate specific Tail $app->put('/api/admin/tail/enable/{number}/{custid}', function(Request $request, Response $response)
6. added // Add new tail $app->post('/api/admin/tail/add/{custid}', function(Request $request, Response $response)
7. added // Update user record $app->put('/api/admin/user/update/{userid}/{custid}', function(Request $request, Response $response)
8. added // Reservation List app->get('/api/admin/reservation/list/{custid}', function(Request $request, Response $response)

clstrak.php

1. update public function isUserExist($custid, $userid) - added filter users.auditrak =1

Database

1. added log table - to log system wide operations of Auditrak
CREATE TABLE `log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `description` varchar(255) DEFAULT NULL,
  `logdate` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `custid` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

2. Update Database Model
3. Update Database Dump

